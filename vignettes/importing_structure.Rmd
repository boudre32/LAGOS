---
title: "Importing and Structure of LAGOS"
author: "Samantha Oliver"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Importing and Structure of LAGOS}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## LAGOS Overview
The Lake Multi-Scaled Geospatial and Temporal Database (LAGOS) is a 
combination of three data modules (LAGOSlocus, LAGOSlimno, LAGOSgeo) designed to be of use for researchers and managers to [insert line from paper]. The database includes information about lakes in a lake-rich region of 17 states in the United States, including Minnesota, Iowa, Wisconsin, Illinois, Missouri, Michigan, Indiana, Ohio, Pennsylvania, New York, New Jersey, Connecticut, New Hampshire, Rhode Island, Massachusetts, Vermont, and Maine. LAGOS contains a complete census of 
all lakes greater than 4 hectares in the region with supporting 
ecological context information. Additionally, for a subset of lakes, LAGOS contains water quality data. The LAGOS package was built so that future data users could easily retrieve and manipulate the data, as well as easily access metadata. 

## Accessing LAGOS
LAGOS is the product of many thousands of human hours over the course of 
data collection and integration. The nitty gritty details of such efforts (which we highly recommend!) can be found in two locations. The details describing how LAGOS was built, including sources and metric derivations, can be found in Soranno et al. 2015. The details of the data themselves, along with the data, can be found in Soranno et al. 2017. 

The data are open-access and stored online as flat files [location]. You can retrieved and store all of the data on your local machine by using the following commands, which will store the data in the location returned by `rappdirs::user_data_dir`
```{r}
library(LAGOS)
```
```
# Get LAGOS data prior to publication
# Users must point to the path of their limno and geo data folders
lagos_compile("1.087.0", format = "rds", 
              limno_folder = "/Data/limno",
              geo_folder = "/Data/geo")
```

[insert code to get from Gigascience or other location]

Now that the data are stored locally, you can import them as a list.

```{r}
# Import LAGOS data into R
dt <- lagos_load(version = "1.087.0", format = "rds")
```

## LAGOS Structure
As previously noted, LAGOS is comprised of three modules with multiple tables within each module. When LAGOS is imported using the above method, the tables are stored in a list, and you can see all table names using:

```{r}
names(dt)
```

Below, we describe how each table fits within each module. 

### LAGOSlimno
LAGOSlimno is an integration of preexisting water quality data from disparate sources, including state, federal, tribal, and university organizations. Water chemistry (various species of nitrogen, phosphorus, and carbon) and transparency (Secchi disk measurement) are the main features of the `epi.nutr` table, but also include metadata about those measurements. `?epi.nutr` gives the names of all variables and metadata (including units).

### LAGOSgeo
LAGOSgeo is an integration of information describing the air, water, and 
land (hereafter, ecological context) surrounding lakes. LAGOSgeo contains
three themes of data that describe the ecological context of each lake: CHAG (climate, hyrology, atmospheric deposition, and surficial geology), 
CONN (stream, wetland, and lake surficial connectivity), and LULC (land use/land cover). 

Each theme of LAGOSgeo was calculated at mutliple spatial extents (see below). The table names of each extent-theme combination [extent].[theme]
(e.g., state.chag, hu4.conn, iws.lulc). Each theme and table within LAGOSgeo is connected to a help file and can be viewed by calling either
the theme or table name (e.g., `?state.chag` or `?chag`).

####LAGOS Spatial Extents





## Structure of LAGOS
## anytime you need help - ?

## LAGOS locus

## LAGOS geo
## LAGOS geo themes

## LAGOS limno


